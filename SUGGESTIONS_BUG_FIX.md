# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫

## üêõ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í –∞–ª–≥–æ—Ä–∏—Ç–º–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (`src/engine/suggest.ts`, —Ñ—É–Ω–∫—Ü–∏—è `enumerateAroundOptimized`) –±—ã–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: **–∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–ª –ø–æ—Å–µ—â–µ–Ω–Ω—ã–µ —è—á–µ–π–∫–∏ –≤ —Ç–µ–∫—É—â–µ–º –ø—É—Ç–∏ DFS**.

### –°–∏–º–ø—Ç–æ–º—ã

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–ª –ø–æ–¥—Å–∫–∞–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ. –ù–∞–ø—Ä–∏–º–µ—Ä:

```
–ü–æ–¥—Å–∫–∞–∑–∫–∏ AI:
1. 1–ì +–Æ ‚Üí –§–ò–®–Æ [13.0]  ‚ùå –ù–µ–≤–∞–ª–∏–¥–Ω–æ!
2. 3–ì +–Æ ‚Üí –§–ò–®–Æ [13.0]  ‚ùå –ù–µ–≤–∞–ª–∏–¥–Ω–æ!
3. 1–î +–• ‚Üí –•–ê–®–ò–® [13.0] ‚ùå –ù–µ–≤–∞–ª–∏–¥–Ω–æ!
```

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ç–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏–≥—Ä–∞ –æ—Ç–∫–ª–æ–Ω—è–ª–∞ —Ö–æ–¥ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "No valid path for the claimed word".

### –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã

–ê–ª–≥–æ—Ä–∏—Ç–º DFS –≤ `enumerateAroundOptimized` –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª, –±—ã–ª–∞ –ª–∏ —É–∂–µ –ø–æ—Å–µ—â–µ–Ω–∞ —è—á–µ–π–∫–∞ –≤ **—Ç–µ–∫—É—â–µ–º –ø—É—Ç–∏**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–ª–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É:

1. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –±—É–∫–≤—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑** –≤ –æ–¥–Ω–æ–º —Å–ª–æ–≤–µ
2. **–°—Ç—Ä–æ–∏—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, A ‚Üí B ‚Üí A ‚Üí C)
3. **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω—ã** –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã

–í –∏–≥—Ä–µ –ë–∞–ª–¥–∞ –∫–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑** –≤ –æ–¥–Ω–æ–º —Å–ª–æ–≤–µ, –Ω–æ –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥—Å–∫–∞–∑–æ–∫ —ç—Ç–æ –Ω–µ —Å–æ–±–ª—é–¥–∞–ª.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —è—á–µ–µ–∫ –≤ —Ç–µ–∫—É—â–µ–º –ø—É—Ç–∏ —Å –ø–æ–º–æ—â—å—é `path: Set<string>`.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**–î–û (—Å—Ç—Ä–æ–∫–∏ 94-126):**

```typescript
function dfs(r: number, c: number, word: string, pathIncludesTarget: boolean) {
  const ch = board[r][c]
  if (!ch)
    return

  const newWord = word + ch
  const targetIncluded = pathIncludesTarget || (r === pos.row && c === pos.col)

  // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ–≤–∞ ...

  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ —è—á–µ–π–∫–∞ —É–∂–µ –≤ –ø—É—Ç–∏!
  for (const d of ORTHOGONAL_DIRS) {
    const nr = r + d.row
    const nc = c + d.col
    if (nr < 0 || nr >= size || nc < 0 || nc >= size)
      continue

    dfs(nr, nc, newWord, targetIncluded)  // –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ç—É –∂–µ —è—á–µ–π–∫—É!
  }
}

// –°—Ç–∞—Ä—Ç DFS
dfs(r, c, '', false)
```

**–ü–û–°–õ–ï (—Å—Ç—Ä–æ–∫–∏ 94-143):**

```typescript
function dfs(r: number, c: number, word: string, pathIncludesTarget: boolean, path: Set<string>) {
  const ch = board[r][c]
  if (!ch)
    return

  const cellKey = `${r},${c}`

  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —è—á–µ–π–∫–∞ –Ω–µ –≤ —Ç–µ–∫—É—â–µ–º –ø—É—Ç–∏
  if (path.has(cellKey))
    return

  const newWord = word + ch
  const targetIncluded = pathIncludesTarget || (r === pos.row && c === pos.col)

  // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–ª–æ–≤–∞ ...

  // ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —è—á–µ–π–∫—É –≤ –ø—É—Ç—å –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–∏
  const newPath = new Set(path)
  newPath.add(cellKey)

  for (const d of ORTHOGONAL_DIRS) {
    const nr = r + d.row
    const nc = c + d.col
    if (nr < 0 || nr >= size || nc < 0 || nc >= size)
      continue

    dfs(nr, nc, newWord, targetIncluded, newPath)  // –ü–µ—Ä–µ–¥–∞—ë–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—É—Ç—å
  }
}

// –°—Ç–∞—Ä—Ç DFS —Å –ø—É—Å—Ç—ã–º path
dfs(r, c, '', false, new Set())
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `path: Set<string>`** –≤ —Ñ—É–Ω–∫—Ü–∏—é `dfs`
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ `if (path.has(cellKey)) return`** –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —è—á–µ–π–∫–∏
3. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—É—Ç–∏ `newPath`** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
4. **–ü–µ—Ä–µ–¥–∞—á–∞ `new Set()`** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ DFS

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```
‚ùå –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤–∫–ª—é—á–∞–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Ö–æ–¥—ã
‚ùå –°–ª–æ–≤–∞ –º–æ–≥–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –±—É–∫–≤—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
‚ùå –ü—É—Ç–∏ –º–æ–≥–ª–∏ –±—ã—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏
‚ùå –ò–≥—Ä–∞ –æ—Ç–∫–ª–æ–Ω—è–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ö–æ–¥—ã
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```
‚úÖ –í—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤–∞–ª–∏–¥–Ω—ã –∏ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å
‚úÖ –ö–∞–∂–¥–∞—è –±—É–∫–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
‚úÖ –ü—É—Ç–∏ –≤—Å–µ–≥–¥–∞ –∞—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ
‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã –ë–∞–ª–¥–∞
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É:
   ```bash
   bun run cli
   ```

2. –í—ã–±–µ—Ä–∏—Ç–µ "‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç 5x5"

3. –ù–∞–∂–º–∏—Ç–µ `[—Å]` –∏–ª–∏ `[—ã]` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫

4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ª—é–±—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É –∏–∑ —Å–ø–∏—Å–∫–∞

5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç—ã –∏–≥—Ä–æ–π ‚úÖ

### –ü—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫

```
–ü–æ–¥—Å–∫–∞–∑–∫–∏ AI:
1. 2–ê +–§ ‚Üí –§–ò–§–ê [8.5]     ‚úÖ –í–∞–ª–∏–¥–Ω–æ
2. 1–ë +–õ ‚Üí –®–ê–õ–ê–® [12.0]   ‚úÖ –í–∞–ª–∏–¥–Ω–æ  
3. 3–í +–ú ‚Üí –®–ò–®–ò–ú [10.0]   ‚úÖ –í–∞–ª–∏–¥–Ω–æ
```

–ö–∞–∂–¥–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ —Ç–µ–ø–µ—Ä—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–∂–¥—É—é –±—É–∫–≤—É —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –°—Ç—Ä–æ–∏—Ç –≤–∞–ª–∏–¥–Ω—ã–π –ø—É—Ç—å –∏–∑ —Å–æ—Å–µ–¥–Ω–∏—Ö –∫–ª–µ—Ç–æ–∫
- –í–∫–ª—é—á–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—É—é –±—É–∫–≤—É –≤ —Å–ª–æ–≤–æ
- –ü—Ä–æ—Ö–æ–¥–∏—Ç —Ç—É –∂–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é, —á—Ç–æ –∏ –æ–±—ã—á–Ω—ã–µ —Ö–æ–¥—ã

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **src/engine/suggest.ts** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- **src/engine/balda.ts** - —Å–æ–¥–µ—Ä–∂–∏—Ç `existsPathForWord` (—ç—Ç–∞–ª–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—É—Ç–∏)
- **src/constants.ts** - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã `ORTHOGONAL_DIRS`, `MAX_WORD_LENGTH`

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°–ª–æ–∂–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: O(V √ó E √ó 26 √ó 4^L), –≥–¥–µ:
  - V = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫
  - E = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–Ω—è—Ç—ã—Ö —è—á–µ–µ–∫
  - 26 = —Ä–∞–∑–º–µ—Ä –∞–ª—Ñ–∞–≤–∏—Ç–∞
  - 4^L = –≤–µ—Ç–≤–ª–µ–Ω–∏–µ DFS (4 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, L - –¥–ª–∏–Ω–∞ —Å–ª–æ–≤–∞)

- **–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: O(L) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—É—Ç–∏, –≥–¥–µ L - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–ª–æ–≤–∞

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ `path: Set<string>` **–Ω–µ –º–µ–Ω—è–µ—Ç** –∞—Å–∏–º–ø—Ç–æ—Ç–∏—á–µ—Å–∫—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–∑–º–µ—Ä –ø—É—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω `MAX_WORD_LENGTH` (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞).

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ

–í –∏–≥—Ä–µ –ë–∞–ª–¥–∞ **–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ö–æ–¥–∞** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—É—Ç–∏ –≤ `existsPathForWord` (—Ñ–∞–π–ª `balda.ts`, —Å—Ç—Ä–æ–∫–∏ 91-122):

```typescript
const newPath = new Set(path)
newPath.add(nextKey)
stack.push({ pos: nextPos, index: index + 1, path: newPath })
```

–¢–µ–ø–µ—Ä—å –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥**, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —Ö–æ–¥—ã –±—É–¥—É—Ç –ø—Ä–∏–Ω—è—Ç—ã –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** - 11 –æ–∫—Ç—è–±—Ä—è 2025

–í—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Ç–µ–ø–µ—Ä—å –≤–∞–ª–∏–¥–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã –ë–∞–ª–¥–∞! üéâ

